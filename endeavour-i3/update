#!/bin/bash
set -e


SCRIPT_DIR=$(cd -- "$(dirname -- "${BASH_SOURCE[0]}")" &> /dev/null && pwd)
SOFTWARE_DIR="$SCRIPT_DIR"/../software
I3_CONFIG=$HOME/.config/i3

yoink() {
  cp $1 "$SCRIPT_DIR/$2/"
}

echo "Copying shell configs"
yoink ~/.bashrc
yoink ~/.bash_aliases
yoink ~/.zshrc
echo "Copying powershell10k theme .p10k.zsh .."
yoink ~/.p10k.zsh
echo "Copying .xsession"
yoink ~/.xsession
echo "Copying picom.conf"
yoink ~/.config/picom.conf

echo "Copying endeavour-i3 config .."
mkdir -p $SCRIPT_DIR/i3/scripts
yoink $I3_CONFIG/config i3
yoink $I3_CONFIG/i3blocks.conf i3
yoink $I3_CONFIG/scripts/power-profiles i3/scripts
yoink $I3_CONFIG/scripts/powermenu i3/scripts
yoink $I3_CONFIG/scripts/volume_brightness.sh i3/scripts
yoink $I3_CONFIG/scripts/net i3/scripts
yoink $I3_CONFIG/scripts/keyhint-2 i3/scripts

echo "Creating i3blocks-contrib diff .."
cd $I3_CONFIG/i3blocks-contrib
git diff >"${SCRIPT_DIR}/i3/i3blocks-contrib-patch.diff"

echo "Copying dunst config .."
yoink ~/.config/dunst/dunstrc

"$SOFTWARE_DIR"/ranger-update
"$SOFTWARE_DIR"/rofi-update
"$SOFTWARE_DIR"/nvim-update

